{
  "id": "de678439-b09a-4267-a312-967d426d6bd6",
  "prevId": "5f039ac4-cf5c-4427-bc48-4d1a0ae0da91",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.predictions": {
      "name": "predictions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "userInput": {
          "name": "userInput",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "predictionResult": {
          "name": "predictionResult",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "attachmentUrls": {
          "name": "attachmentUrls",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "userFeedback": {
          "name": "userFeedback",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "feedbackAt": {
          "name": "feedbackAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "shareToken": {
          "name": "shareToken",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": false
        },
        "confidenceScore": {
          "name": "confidenceScore",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "predictionMode": {
          "name": "predictionMode",
          "type": "predictionMode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'standard'"
        },
        "predictionTimeline": {
          "name": "predictionTimeline",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "trajectoryType": {
          "name": "trajectoryType",
          "type": "trajectoryType",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'instant'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "predictions_shareToken_unique": {
          "name": "predictions_shareToken_unique",
          "nullsNotDistinct": false,
          "columns": [
            "shareToken"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscriptions": {
      "name": "subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "tier": {
          "name": "tier",
          "type": "tier",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "dailyLimit": {
          "name": "dailyLimit",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "usedToday": {
          "name": "usedToday",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "totalUsed": {
          "name": "totalUsed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "lastResetDate": {
          "name": "lastResetDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "currentStreak": {
          "name": "currentStreak",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "longestStreak": {
          "name": "longestStreak",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "lastPredictionDate": {
          "name": "lastPredictionDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "billingInterval": {
          "name": "billingInterval",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'monthly'"
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "openId": {
          "name": "openId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false
        },
        "loginMethod": {
          "name": "loginMethod",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "badge": {
          "name": "badge",
          "type": "badge",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'none'"
        },
        "nickname": {
          "name": "nickname",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "gender": {
          "name": "gender",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "relationshipStatus": {
          "name": "relationshipStatus",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "interests": {
          "name": "interests",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "onboardingCompleted": {
          "name": "onboardingCompleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "careerProfile": {
          "name": "careerProfile",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "moneyProfile": {
          "name": "moneyProfile",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "loveProfile": {
          "name": "loveProfile",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "healthProfile": {
          "name": "healthProfile",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "lastSignedIn": {
          "name": "lastSignedIn",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_openId_unique": {
          "name": "users_openId_unique",
          "nullsNotDistinct": false,
          "columns": [
            "openId"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.badge": {
      "name": "badge",
      "schema": "public",
      "values": [
        "none",
        "plus",
        "pro",
        "premium"
      ]
    },
    "public.predictionMode": {
      "name": "predictionMode",
      "schema": "public",
      "values": [
        "standard",
        "deep"
      ]
    },
    "public.role": {
      "name": "role",
      "schema": "public",
      "values": [
        "user",
        "admin"
      ]
    },
    "public.tier": {
      "name": "tier",
      "schema": "public",
      "values": [
        "free",
        "plus",
        "pro",
        "premium"
      ]
    },
    "public.trajectoryType": {
      "name": "trajectoryType",
      "schema": "public",
      "values": [
        "instant",
        "30day",
        "90day",
        "yearly"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}